inherit: true

build:
  image: default-bionic
  environment:
    php: ^8.1.2
  nodes:
    coverage:
      tests:
        before:
          - command: 'composer require --prefer-dist --no-update silverstripe/recipe-cms:^5@dev league/omnipay:^3'
    analysis:
      tests:
        override: [php-scrutinizer-run]

checks:
  php:
    code_rating: true
    duplication: true

filter:
  paths: [src/*]
